<!DOCTYPE html>
<html lang="en" class="non-reveal">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ page.title }}</title>
    <script>
      function getQueryStringDict(){
        let queryString = window.location.search.substring(1);
        if (queryString){
            let queryDict = {};
            let queries = queryString.split("&");
            queries.forEach((query) =>{
              let split = query.split('=');
              queryDict[split[0]] = split[1];
            })
            return queryDict;
        } else {
            return {};
        }
      }

      // get the query string once, store in a global variable
      var queryString = getQueryStringDict();

      // load the revealjs stylesheet if necessary (must load before custom stylesheet)
      if (queryString.format === 'reveal'){
        let revealStyles = document.createElement('link');
        revealStyles.setAttribute('rel', 'stylesheet')
        revealStyles.setAttribute('href', '{{ site.baseurl }}/assets/css/reveal.css');
        document.head.appendChild(revealStyles);
      }
    </script>
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/slides.css">
  </head>
  <body>
    <main class="slides">
      {{ content }}
    </main>
    <footer>
      Back to <a href="/">slides</a>
    </footer>
    <script src="{{ site.baseurl }}/assets/js/reveal.js"></script>
    <script>
      if (queryString.format === 'reveal'){
        document.documentElement.classList.remove('non-reveal');
        document.documentElement.classList.add('reveal');
        Reveal.initialize({
          controls: false,
          progress: false,
          history: true,
          fragmentInURL: true,
          // slideNumber: true,
          // slideNumber: 'c/t',
          center: false,
          transition: 'none',
          width: "100%",
          height: "100%",
          margin: 0,
          minScale: 1,
          maxScale: 1,
      });
    }
    </script>
  </body>
</html>

